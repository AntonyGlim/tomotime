<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

	<title>TomoTime</title>

	<link rel="icon" type="image/png" th:href="@{/favicon.ico}"/>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

	<style>
		#myProgress {
			width: 100%;
			background-color: #ddd;
		}
		#myTime {
			position: relative;
			height: 0px;
			left: 50%;
			top: 2px;
			color: white;
		}
		#myBar {
			width: 100%;
			height: 30px;
			background-color: #4CAF50;
		}
	</style>

</head>
<body>


<div class="container" id="myContainer">

	<div th:replace="~{topmenu :: navigation('')}"/>


	<!--https://html5css.ru/howto/howto_js_progressbar.php-->
	<br>
	<div id="myProgress">
		<div id="myTime"></div>
		<div id="myBar"></div>
	</div>

	<br>
	<br>
	<button onclick="backwardTimer(0.05)">0.05 minute test</button>
	<button onclick="backwardTimer(5)">5 minute</button>
	<button onclick="backwardTimer(15)">15 minute</button>
	<button onclick="backwardTimer(25)">25 minute</button>

	<script>
        function backwardTimer(minutes) {
            var elem = document.getElementById("myBar");
            var elemTime = document.getElementById("myTime");
            var width = 100;
            var id = setInterval(frame, 60 * minutes * 10);
            function frame() {
                if (width <= 0) {
                    clearInterval(id);
                    setInitialStartView(elem);
                } else {
                    width--;
                    elem.style.width = width + '%';
                    elemTime.innerHTML = width;
                }
            }
        }
        function setInitialStartView(elem) {
	        elem.style.width = 100 + '%';
        }
	</script>


	<div th:replace="~{footer::footer}"/>

</div>
</body>
</html>